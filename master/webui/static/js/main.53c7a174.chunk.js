(this.webpackJsonpundefined=this.webpackJsonpundefined||[]).push([[0],{391:function(e,a,t){e.exports=t(487)},487:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),i=t(16),o=t.n(i),l=t(523),c=t(522),s=t(30),m=t.n(s),d=t(36),u=t(139),p=t(346),f=t(183),h=t(5),g=t(343),b=t(381),E=t(3),v=t(138),y=t(517),k=t(66),w=t(491),x=t(492),S=t(516),j=t(311),O=t(347),B=t.n(O),C=t(348),N=t.n(C),I=t(359),T=t.n(I),z=t(358),D=t.n(z),M=t(360),P=t.n(M),R=t(356),F=t.n(R),W=t(354),U=t.n(W),L=t(357),H=t.n(L),A=t(349),q=t.n(A),J=t(355),V=t.n(J),_=t(351),G=t.n(_),K=t(352),Q=t.n(K),X=t(350),Y=t.n(X),Z=t(353),$=t.n(Z),ee=[{id:"Sources",children:[{id:"Upload",icon:r.a.createElement(B.a,null),active:!0},{id:"Configure",icon:r.a.createElement(N.a,null)},{id:"Explore",icon:r.a.createElement(q.a,null)}]},{id:"Models",children:[{id:"Configure",icon:r.a.createElement(Y.a,null)},{id:"Train",icon:r.a.createElement(G.a,null)},{id:"Predict",icon:r.a.createElement(Q.a,null)}]},{id:"Operations",children:[{id:"View",icon:r.a.createElement($.a,null)},{id:"Create",icon:r.a.createElement(U.a,null)},{id:"Run",icon:r.a.createElement(V.a,null)}]},{id:"Dataflows",children:[{id:"View",icon:r.a.createElement(F.a,null)},{id:"Create",icon:r.a.createElement(H.a,null)},{id:"Run",icon:r.a.createElement(D.a,null)},{id:"Deploy",icon:r.a.createElement(T.a,null)}]},{id:"Settings",children:[{id:"Backend",icon:r.a.createElement(P.a,null)}]}];var ae=Object(h.a)((function(e){return{categoryHeader:{paddingTop:e.spacing(2),paddingBottom:e.spacing(2)},categoryHeaderPrimary:{color:e.palette.common.white},item:{paddingTop:1,paddingBottom:1,color:"rgba(255, 255, 255, 0.7)","&:hover,&:focus":{backgroundColor:"rgba(255, 255, 255, 0.08)"}},itemCategory:{backgroundColor:"#232f3e",boxShadow:"0 -1px 0 #404854 inset",paddingTop:e.spacing(2),paddingBottom:e.spacing(2)},firebase:{fontSize:24,color:e.palette.common.white},itemActiveItem:{color:"#4fc3f7"},itemPrimary:{fontSize:"inherit"},itemIcon:{minWidth:"auto",marginRight:e.spacing(2)},divider:{marginTop:e.spacing(2)}}}))((function(e){var a=e.classes,t=Object(b.a)(e,["classes"]);return r.a.createElement(k.a,Object.assign({variant:"permanent"},t),r.a.createElement(w.a,{disablePadding:!0},r.a.createElement(x.a,{className:Object(E.a)(a.firebase,a.item,a.itemCategory)},"DFFML"),ee.map((function(e){var t=e.id,n=e.children;return r.a.createElement(r.a.Fragment,{key:t},r.a.createElement(x.a,{className:a.categoryHeader},r.a.createElement(j.a,{classes:{primary:a.categoryHeaderPrimary}},t)),n.map((function(e){var n=e.id,i=e.icon,o=e.active;return r.a.createElement(v.b,{key:n,style:{textDecoration:"none"},to:"/"+t.toLowerCase()+"/"+n.toLowerCase()},r.a.createElement(x.a,{button:!0,className:Object(E.a)(a.item,o&&a.itemActiveItem)},r.a.createElement(S.a,{className:a.itemIcon},i),r.a.createElement(j.a,{classes:{primary:a.itemPrimary}},n)))})),r.a.createElement(y.a,{className:a.divider}))}))))})),te=t(518),ne=t(261),re=t(363),ie=t.n(re),oe=t(191),le=t(312),ce=t(313),se=t(81),me=t(98),de={"/sources/upload":{title:"Files and Uploads",help:"https://intel.github.io/dffml/webui/help/for/sources"},"/sources/configure":{title:"Configure Data Sources",help:"https://intel.github.io/dffml/webui/help/for/sources"},"/sources/explore":{title:"Explore Data Sources",help:"https://intel.github.io/dffml/webui/help/for/sources"},"/settings/backend":{title:"Backend Settings",help:"https://intel.github.io/dffml/webui/help/for/backend"}};var ue=Object(h.a)((function(e){return{secondaryBar:{zIndex:0},toolbar:{marginTop:e.spacing(1),marginBottom:e.spacing(1)},menuButton:{marginLeft:-e.spacing(1)},iconButtonAvatar:{padding:4},link:{textDecoration:"none",color:"rgba(255, 255, 255, 0.7)","&:hover":{color:e.palette.common.white}},button:{borderColor:"rgba(255, 255, 255, 0.7)"}}}))((function(e){var a=e.classes,t=Object(me.g)();return r.a.createElement(r.a.Fragment,null,r.a.createElement(te.a,{component:"div",className:a.secondaryBar,color:"primary",position:"static",elevation:0},r.a.createElement(le.a,{className:a.toolbar},r.a.createElement(ne.a,{container:!0,alignItems:"center",spacing:1},r.a.createElement(ne.a,{item:!0,xs:!0},r.a.createElement(se.a,{color:"inherit",variant:"h5",component:"h1"},de[t.path].title)),r.a.createElement(ne.a,{item:!0},r.a.createElement(ce.a,{title:"Help"},r.a.createElement(oe.a,{color:"inherit"},r.a.createElement(ie.a,null))))))))})),pe=t(195),fe=t(314),he=t(494),ge=t(503),be=t(496),Ee=t(519),ve=t(495);function ye(e){var a=r.a.useState(e.open),t=Object(d.a)(a,2),n=t[0],i=t[1],o="",l=function(){e.saveBackend("demo"),i(!1)};return r.a.createElement(he.a,{open:n,onClose:l,"aria-labelledby":"form-dialog-title"},r.a.createElement(ve.a,{id:"form-dialog-title"},"Set Backend"),r.a.createElement(be.a,null,r.a.createElement(Ee.a,null,"The web interface requires a backend server to be fully operational. Instructions on how to start the server can be found ",r.a.createElement("a",{href:"https://intel.github.io/dffml/plugins/service/http/index.html"},"here"),'. If you only want to play around and get a feel for things, click "Demo Mode" instead of "Save".'),r.a.createElement(fe.a,{autoFocus:!0,margin:"dense",label:"URL Of Backend",type:"url",onChange:function(e){return o=e.target.value},fullWidth:!0})),r.a.createElement(ge.a,null,r.a.createElement(pe.a,{onClick:l,color:"primary"},"Demo Mode"),r.a.createElement(pe.a,{onClick:function(){e.saveBackend(o),i(!1)},color:"primary"},"Save")))}var ke=t(196),we=t(197),xe=t(380),Se=t(365),je=t(382),Oe=t(107),Be=t(248),Ce=t.n(Be),Ne=t(245),Ie=t.n(Ne),Te=t(247),ze=t(249);function De(e){var a=r.a.useState([]),t=Object(d.a)(a,2),n=t[0],i=t[1];console.log("Files and Uploads backend:",e.backend);var o=Object(ze.a)(e.backend.url+"/service/files",fetch),l=o.data,c={};return o.error?(l=[],c.body={emptyDataSourceMessage:"Error loading files"}):l?function(e,a){var t,n,r,i,o,l;m.a.async((function(c){for(;;)switch(c.prev=c.next){case 0:if(!e.bodyUsed){c.next=2;break}return c.abrupt("return");case 2:return c.next=4,m.a.awrap(e.json());case 4:for(r in t=c.sent,n={},t)t[r].id=Number(r),(i=t[r].filename.split("/")).pop(),n[i.join("/")+"/"]=!0;for(n.hasOwnProperty("/")&&delete n["/"],r=0;r<Object.keys(n).length;r++)n[Object.keys(n)[r]]=t.length+r;for(r in n)(i=r.split("/")).pop(),o={id:n[r],filename:i[i.length-1]+"/"},i.pop(),l=i.join("/")+"/",n.hasOwnProperty(l)&&(o.parentId=n[l]),t.push(o);c.t0=m.a.keys(t);case 11:if((c.t1=c.t0()).done){c.next=22;break}if(r=c.t1.value,!t[r].filename.endsWith("/")){c.next=15;break}return c.abrupt("continue",11);case 15:i=t[r].filename.split("/"),t[r].filename=i[i.length-1],i.pop(),l=i.join("/")+"/",n.hasOwnProperty(l)&&(t[r].parentId=n[l]),c.next=11;break;case 22:a(t);case 23:case"end":return c.stop()}}))}(l,i):(l=[],c.body={emptyDataSourceMessage:"No files"}),r.a.createElement(Ie.a,{title:"Files",localization:c,data:n,columns:[{title:"Filename",field:"filename",removable:!1},{title:"Size (MB)",field:"size",type:"numeric"}],parentChildData:function(e,a){return a.find((function(a){return a.id===e.parentId}))},options:{selection:!0}})}var Me=function(e){function a(e){var t;return Object(ke.a)(this,a),(t=Object(xe.a)(this,Object(Se.a)(a).call(this,e))).state={files:[]},t}return Object(je.a)(a,e),Object(we.a)(a,[{key:"handleChange",value:function(e){this.setState({files:e})}},{key:"render",value:function(){return r.a.createElement(Te.a,{dropzoneText:"Drag and drop a file here or click",showFileNames:!0,acceptedFiles:[],onChange:this.handleChange.bind(this)})}}]),a}(r.a.Component);var Pe=Object(h.a)((function(e){return{paper:{maxWidth:936,margin:"auto",overflow:"hidden"},searchBar:{borderBottom:"1px solid rgba(0, 0, 0, 0.12)"},searchInput:{fontSize:e.typography.fontSize},block:{display:"block"},addUser:{marginRight:e.spacing(1)},contentWrapper:{margin:"40px 16px"}}}))((function(e){var a=e.classes,t=e.backend;return r.a.createElement(r.a.Fragment,null,r.a.createElement(Oe.a,{className:a.paper},r.a.createElement(Me,null),r.a.createElement(te.a,{className:a.searchBar,position:"static",color:"default",elevation:0},r.a.createElement(le.a,null,r.a.createElement(ne.a,{container:!0,spacing:2,alignItems:"center"},r.a.createElement(ne.a,{item:!0,xs:!0},r.a.createElement(fe.a,{fullWidth:!0,placeholder:"Path to place file at",InputProps:{disableUnderline:!0,className:a.searchInput}})),r.a.createElement(ne.a,{item:!0},r.a.createElement(pe.a,{disabled:!0,variant:"contained",color:"primary",className:a.addUser},"Upload File"),r.a.createElement(ce.a,{title:"Reload"},r.a.createElement(oe.a,null,r.a.createElement(Ce.a,{className:a.block,color:"inherit"})))))))),r.a.createElement("br",null),r.a.createElement(Oe.a,{className:a.paper},r.a.createElement(De,{backend:t})))}));var Re=Object(h.a)((function(e){return{paper:{maxWidth:936,margin:"auto",overflow:"hidden"},searchBar:{borderBottom:"1px solid rgba(0, 0, 0, 0.12)"},searchInput:{fontSize:e.typography.fontSize},block:{display:"block"},addUser:{marginRight:e.spacing(1)},contentWrapper:{margin:"40px 16px"},formText:{margin:"16px",width:"100%"},formButton:{margin:"26px"},formProgress:{margin:"22px"}}}))((function(e){var a=e.classes,t=e.backend,n=e.saveBackend,i=r.a.useState(t.url),o=Object(d.a)(i,2),l=o[0],c=o[1];return console.log(l,t),r.a.createElement(r.a.Fragment,null,r.a.createElement(Oe.a,{className:a.paper},r.a.createElement(ne.a,{container:!0,spacing:3},r.a.createElement(ne.a,{item:!0,xs:8},r.a.createElement(fe.a,{className:a.formText,name:"backend_url",label:"Backend URL",value:l,onChange:function(e){return c(e.target.value)}})),r.a.createElement(ne.a,{item:!0,xs:4},r.a.createElement(pe.a,{variant:"contained",color:"primary",onClick:function(){return n(l)},className:a.formButton},"Submit")))))})),Fe=Object(f.a)({palette:{primary:{light:"#63ccff",main:"#009be5",dark:"#006db3"}},typography:{h5:{fontWeight:500,fontSize:26,letterSpacing:.5}},shape:{borderRadius:8},props:{MuiTab:{disableRipple:!0}},mixins:{toolbar:{minHeight:48}}});Fe=Object(p.a)({},Fe,{overrides:{MuiDrawer:{paper:{backgroundColor:"#18202c"}},MuiButton:{label:{textTransform:"none"},contained:{boxShadow:"none","&:active":{boxShadow:"none"}}},MuiTabs:{root:{marginLeft:Fe.spacing(1)},indicator:{height:3,borderTopLeftRadius:3,borderTopRightRadius:3,backgroundColor:Fe.palette.common.white}},MuiTab:{root:Object(u.a)({textTransform:"none",margin:"0 16px",minWidth:0,padding:0},Fe.breakpoints.up("md"),{padding:0,minWidth:0})},MuiIconButton:{root:{padding:Fe.spacing(1)}},MuiTooltip:{tooltip:{borderRadius:4}},MuiDivider:{root:{backgroundColor:"#404854"}},MuiListItemText:{primary:{fontWeight:Fe.typography.fontWeightMedium}},MuiListItemIcon:{root:{color:"inherit",marginRight:0,"& svg":{fontSize:20}}},MuiAvatar:{root:{width:32,height:32}}}});var We={root:{display:"flex",minHeight:"100vh"},drawer:Object(u.a)({},Fe.breakpoints.up("sm"),{width:256,flexShrink:0}),app:{flex:1,display:"flex",flexDirection:"column"},main:{flex:1,padding:Fe.spacing(6,4),background:"#eaeff1"},footer:{padding:Fe.spacing(2),background:"#eaeff1"}},Ue=localStorage.getItem("backend.url");null!==Ue&&"demo"!==Ue||(Ue="/api");var Le={url:Ue};var He=Object(h.a)(We)((function(e){var a=e.classes,t=e.demoServer,n=r.a.useState(!1),i=Object(d.a)(n,2),o=i[0],s=i[1],u=r.a.useState(Le),p=Object(d.a)(u,2),f=p[0],h=p[1];function b(e){var a;return m.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return localStorage.setItem("backend.url",e),null===e||"demo"===e?(e="/api",t.start()):t.stop(),h(a={url:e}),n.abrupt("return",a);case 5:case"end":return n.stop()}}))}var E=function(){s(!o)};return r.a.createElement(c.a,{theme:Fe},r.a.createElement(v.a,null,r.a.createElement("div",{className:a.root},r.a.createElement(l.a,null),r.a.createElement(ye,{open:null===localStorage.getItem("backend.url"),backend:f,saveBackend:b}),r.a.createElement("nav",{className:a.drawer},r.a.createElement(g.a,{smUp:!0,implementation:"js"},r.a.createElement(ae,{PaperProps:{style:{width:256}},variant:"temporary",open:o,onClose:E})),r.a.createElement(g.a,{xsDown:!0,implementation:"css"},r.a.createElement(ae,{PaperProps:{style:{width:256}}}))),r.a.createElement("div",{className:a.app},r.a.createElement(me.d,null,r.a.createElement(me.b,{path:"/sources/upload"},r.a.createElement(ue,{onDrawerToggle:E}),r.a.createElement("main",{className:a.main},r.a.createElement(Pe,{backend:f}))),r.a.createElement(me.b,{path:"/settings/backend"},r.a.createElement(ue,{onDrawerToggle:E}),r.a.createElement("main",{className:a.main},r.a.createElement(Re,{backend:f,saveBackend:b}))),r.a.createElement(me.b,{path:"/",render:function(e){var a=e.location;return r.a.createElement(me.a,{to:{pathname:"/sources/upload",state:{from:a}}})}})),r.a.createElement("footer",{className:a.footer})))))})),Ae=t(118),qe=Object(f.a)({"@global":{div:{"-ms-overflow-style":"none","scrollbar-width":"none"},"*::-webkit-scrollbar":{display:"none"}},palette:{primary:{main:"#556cd6"},secondary:{main:"#19857b"},error:{main:Ae.a.A400},background:{default:"#fff"}}}),Je=t(379),Ve=new(function(){function e(){Object(ke.a)(this,e),this.server=null}return Object(we.a)(e,[{key:"start",value:function(){null!==this.server&&this.stop(),this.server=new Je.a({routes:function(){this.namespace="/api",this.get("/service/files",(function(){return[{filename:"file.csv",size:3271},{filename:"there.csv",size:2310},{filename:"down1/other.csv",size:7157},{filename:"down1/down2/another.csv",size:56190},{filename:"down1/down2/also.csv",size:4654},{filename:"down1/down3/here.csv",size:12716}]}))}})}},{key:"stop",value:function(){this.server.shutdown()}}]),e}());Ve.start(),o.a.render(r.a.createElement(c.a,{theme:qe},r.a.createElement(l.a,null),r.a.createElement(He,{demoServer:Ve})),document.querySelector("#root"))}},[[391,1,2]]]);
//# sourceMappingURL=main.53c7a174.chunk.js.map