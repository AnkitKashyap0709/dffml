

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Codebase Layout And Notes &mdash; DFFML 0.3.2 documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script type="text/javascript" src="../_static/jquery.js"></script>
        <script type="text/javascript" src="../_static/underscore.js"></script>
        <script type="text/javascript" src="../_static/doctools.js"></script>
        <script type="text/javascript" src="../_static/language_data.js"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="author" title="About these documents" href="../about.html" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Git and GitHub" href="git.html" />
    <link rel="prev" title="Getting Set Up To Work On DFFML" href="dev_env.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html" class="icon icon-home"> DFFML
          

          
          </a>

          
            
            
              <div class="version">
                0.3.2
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../about.html">About</a></li>
<li class="toctree-l1"><a class="reference internal" href="../quickstart/model.html">Model Quickstart</a></li>
<li class="toctree-l1"><a class="reference internal" href="../installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tutorials/index.html">Tutorials</a></li>
<li class="toctree-l1"><a class="reference internal" href="../usage/index.html">Usage Examples</a></li>
<li class="toctree-l1"><a class="reference internal" href="../plugins/index.html">Plugins</a></li>
<li class="toctree-l1"><a class="reference internal" href="../cli.html">Command Line</a></li>
<li class="toctree-l1"><a class="reference internal" href="../plugins/service/http/index.html">HTTP API</a></li>
<li class="toctree-l1"><a class="reference internal" href="../api/index.html">API Reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="../publications.html">Publications</a></li>
<li class="toctree-l1"><a class="reference internal" href="../community.html">Community</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">Contributing</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="index.html#contacting-the-community">Contacting the Community</a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#what-to-work-on">What To Work On</a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#who-s-working-on-what">Who’s Working On What</a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#communication-style">Communication Style</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="index.html#working-on-dffml">Working on DFFML</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="dev_env.html">Getting Set Up To Work On DFFML</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">Codebase Layout And Notes</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#plugins">Plugins</a></li>
<li class="toctree-l4"><a class="reference internal" href="#one-two-punch">One-Two Punch</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="git.html">Git and GitHub</a></li>
<li class="toctree-l3"><a class="reference internal" href="testing.html">Testing</a></li>
<li class="toctree-l3"><a class="reference internal" href="docs.html">Documentation</a></li>
<li class="toctree-l3"><a class="reference internal" href="subsystems.html">Notes on Various Subsystems</a></li>
<li class="toctree-l3"><a class="reference internal" href="debugging.html">Debugging</a></li>
</ul>
</li>
</ul>
</li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">DFFML</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html">Docs</a> &raquo;</li>
        
          <li><a href="index.html">Contributing</a> &raquo;</li>
        
      <li>Codebase Layout And Notes</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/contributing/codebase.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="codebase-layout-and-notes">
<h1><a class="toc-backref" href="#id1">Codebase Layout And Notes</a><a class="headerlink" href="#codebase-layout-and-notes" title="Permalink to this headline">¶</a></h1>
<div class="contents topic" id="contents">
<p class="topic-title">Contents</p>
<ul class="simple">
<li><p><a class="reference internal" href="#codebase-layout-and-notes" id="id1">Codebase Layout And Notes</a></p>
<ul>
<li><p><a class="reference internal" href="#plugins" id="id2">Plugins</a></p></li>
<li><p><a class="reference internal" href="#one-two-punch" id="id3">One-Two Punch</a></p></li>
</ul>
</li>
</ul>
</div>
<div class="section" id="plugins">
<h2><a class="toc-backref" href="#id2">Plugins</a><a class="headerlink" href="#plugins" title="Permalink to this headline">¶</a></h2>
<p>DFFML is plugin based. This means that there the source code for the main
package <code class="docutils literal notranslate"><span class="pre">dffml</span></code>, is separate from the source code for many of the things you
might want to use in conjunction with it. For example, if you wanted to use the
machine learning models based on scikit, you’d install <code class="docutils literal notranslate"><span class="pre">dffml-model-scikit</span></code>.
If you wanted to use machine learning models based on TensorFlow, you’d install
<code class="docutils literal notranslate"><span class="pre">dffml-model-tensorflow</span></code>. The source code for all <em>Core</em> plugins is within the
same Git repo (<a class="reference external" href="https://github.com/intel/dffml">https://github.com/intel/dffml</a>).</p>
<p>This means users only have to install what they need. TensorFlow is several
hundred megabytes, not everyone wants that, or needs that to get machine
learning models that preform accurately on their problem.</p>
<p>All plugins have their base class that they derive from in the main package,
which is located in the <code class="docutils literal notranslate"><span class="pre">dffml</span></code> directory at the root of the git repo.</p>
<p>The plugin packages are located within their respective at the root of the git
repo. For example, source base classes are in <code class="docutils literal notranslate"><span class="pre">dffml/source</span></code> and source plugin
packages are in <code class="docutils literal notranslate"><span class="pre">source/</span></code>.</p>
</div>
<div class="section" id="one-two-punch">
<h2><a class="toc-backref" href="#id3">One-Two Punch</a><a class="headerlink" href="#one-two-punch" title="Permalink to this headline">¶</a></h2>
<p>All classes in DFFML follow a double asynchronous context entry pattern. This is
ideal for usages such as creating a connection pool, then using a connection. Be
that with a database, client HTTP sessions, etc.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">dffml.repo</span> <span class="kn">import</span> <span class="n">Repo</span>
<span class="kn">from</span> <span class="nn">dffml.source.csv</span> <span class="kn">import</span> <span class="n">CSVSource</span><span class="p">,</span> <span class="n">CSVSourceConfig</span>

<span class="k">async</span> <span class="k">def</span> <span class="nf">main</span><span class="p">():</span>
    <span class="c1"># One</span>
    <span class="k">async</span> <span class="k">with</span> <span class="n">CSVSource</span><span class="p">(</span>
        <span class="n">CSVSourceConfig</span><span class="p">(</span>
            <span class="n">filename</span><span class="o">=</span><span class="s2">&quot;test.csv&quot;</span><span class="p">,</span>
            <span class="n">allowempty</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
            <span class="n">readwrite</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
        <span class="p">)</span>
    <span class="p">)</span> <span class="k">as</span> <span class="n">source</span><span class="p">:</span>
        <span class="c1"># Two</span>
        <span class="k">async</span> <span class="k">with</span> <span class="n">source</span><span class="p">()</span> <span class="k">as</span> <span class="n">sctx</span><span class="p">:</span>
            <span class="c1"># Punch</span>
            <span class="k">await</span> <span class="n">sctx</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">Repo</span><span class="p">(</span><span class="s2">&quot;0&quot;</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="p">{</span>
                <span class="s2">&quot;features&quot;</span><span class="p">:</span> <span class="p">{</span>
                    <span class="s2">&quot;first_column&quot;</span><span class="p">:</span> <span class="mi">42</span><span class="p">,</span>
                    <span class="s2">&quot;second_column&quot;</span><span class="p">:</span> <span class="mi">1776</span><span class="p">,</span>
                <span class="p">}</span>
            <span class="p">}))</span>

<span class="n">asyncio</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="n">main</span><span class="p">())</span>
</pre></div>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="git.html" class="btn btn-neutral float-right" title="Git and GitHub" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="dev_env.html" class="btn btn-neutral float-left" title="Getting Set Up To Work On DFFML" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2019, Intel

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>